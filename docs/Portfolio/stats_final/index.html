<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andrew Bartnik">
<meta name="dcterms.date" content="2022-12-04">
<meta name="description" content="I used IUCN data to explore extinction in Animalia. This project is part of Statistics for Environmental Data Science - EDS 222">

<title>Andrew Bartnik - Exploring Extinction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="../../site_libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.26/datatables.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Andrew Bartnik</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Portfolio.html" rel="" target="">
 <span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../CV/resume.pdf" rel="" target="">
 <span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-and-motivation" id="toc-introduction-and-motivation" class="nav-link active" data-scroll-target="#introduction-and-motivation">Introduction and Motivation</a>
  <ul class="collapse">
  <li><a href="#history-of-extinction" id="toc-history-of-extinction" class="nav-link" data-scroll-target="#history-of-extinction">History of Extinction</a></li>
  <li><a href="#extinction-today" id="toc-extinction-today" class="nav-link" data-scroll-target="#extinction-today">Extinction Today</a></li>
  <li><a href="#why-study-extinction" id="toc-why-study-extinction" class="nav-link" data-scroll-target="#why-study-extinction">Why Study Extinction?</a></li>
  </ul></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#cleaning" id="toc-cleaning" class="nav-link" data-scroll-target="#cleaning">Cleaning</a></li>
  <li><a href="#modeling" id="toc-modeling" class="nav-link" data-scroll-target="#modeling">Modeling</a>
  <ul class="collapse">
  <li><a href="#stepwise-model" id="toc-stepwise-model" class="nav-link" data-scroll-target="#stepwise-model">Stepwise Model</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#issues" id="toc-issues" class="nav-link" data-scroll-target="#issues">Issues</a>
  <ul class="collapse">
  <li><a href="#assumptions" id="toc-assumptions" class="nav-link" data-scroll-target="#assumptions">Assumptions</a></li>
  <li><a href="#simplifications" id="toc-simplifications" class="nav-link" data-scroll-target="#simplifications">Simplifications</a></li>
  <li><a href="#limitations" id="toc-limitations" class="nav-link" data-scroll-target="#limitations">Limitations</a></li>
  </ul></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps">Next Steps</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploring Extinction</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Projects</div>
  </div>
  </div>

<div>
  <div class="description">
    I used IUCN data to explore extinction in Animalia. This project is part of Statistics for Environmental Data Science - EDS 222
  </div>
</div>

<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://andrewbartnik.github.io/">Andrew Bartnik</a> </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://ucsb-meds.github.io/">
            Master of Environmental Data Science Program @ The Bren School (UCSB)
            </a>
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 4, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction-and-motivation" class="level1">
<h1>Introduction and Motivation</h1>
<section id="history-of-extinction" class="level3">
<h3 class="anchored" data-anchor-id="history-of-extinction">History of Extinction</h3>
<p>Species extinction is a normal part of Earth’s natural history, as over 99.9% of species to ever have existed are now extinct<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. Background extinction rates under normal conditions is expected to between 0.1 - 1 species of vertebrates to go extinct every 100 years per 10,000 species<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>. However, throughout Earth’s history there have been calamitous events such as asteroid impacts, volcanic eruptions, and sudden atmospheric changes that have rapidly changed the conditions on Earth to be unsuitable for life. The worst of these extinction events, the Permian extinction, is thought to have killed off 90% of all species on Earth.</p>
<p>The current species extinction rate is estimated to be between 1,000 and 10,000 times higher than the normal background extinction rate<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, which is enough to consider our current time period the 6th mass extinction event - widely agreed to be caused by various human activities.</p>
<p><img src="images/big_five.png" class="img-fluid"></p>
<p><a href="https://ourworldindata.org/extinctions">Figure 1. The Big Five Mass Extinctions</a></p>
</section>
<section id="extinction-today" class="level3">
<h3 class="anchored" data-anchor-id="extinction-today">Extinction Today</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Chinese River Dolphin</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Tasmanian Tiger</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Dodo</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>You may be familiar with some of the species that have recently gone extinct due to human activity. Among these are the Chinese River dolphin, which lived in the Yangtze river of China and was last seen in 2007 - thought to be driven to extinction due to heavy use of the river for fishing, transportation and hydroelectricity,</p>
<p><img src="images/baiji.jpeg" class="img-fluid"></p>
<p><a href="https://en.wikipedia.org/wiki/Baiji">Figure 2. The Chinese River Dolphin (Baiji)</a></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>The Tasmanian Tiger which lived on Tasmania, a small island south east of Australia, and was hunted to extinction in the 1930s</p>
<p><img src="images/tazzie_tiger.jpeg" class="img-fluid"></p>
<p><a href="https://en.wikipedia.org/wiki/Thylacine">Figure 3. Tasmanian Tiger (Thylacine)</a></p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>And the famous Dodo bird, endemic to the island of Mauritius, it lacked adaptations to prevent its own extinction from hunting by sailors and habitat destruction in the late 17th century.</p>
<p><img src="images/dodo.jpeg" class="img-fluid"></p>
<p><a href="https://www.britannica.com/animal/dodo-extinct-bird">Figure 4. The Dodo went extinct by 1681</a></p>
</div>
</div>
</div>
</section>
<section id="why-study-extinction" class="level3">
<h3 class="anchored" data-anchor-id="why-study-extinction">Why Study Extinction?</h3>
<p>Species provide us not only with important sources of medicine, food and various other products, but also play important roles in each of their respective ecosystems on which much of our societies’ depend. Each species also helps us elucidate the story of life’s history on Earth and contextualizes our relationship with the natural world. More importantly however, species have intrinsic value regardless of what they provide for humans, and each one lost is a tragedy in its own right.</p>
<p>Its important to understand the factors that render species vulnerable to extinction, as well as what the mechanisms of extinction are and how they work. Extinction is notoriously difficult to study mainly due to our lack of data which I will expand upon in the issues section, but we can hopefully use some of these findings to identify vulnerable species, and better protect them and their ecosystems from extinction and collapse.</p>
</section>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<p>For this analysis, I used data from the IUCN Redlist of Threatened Species<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> to investigate some of the factors that I suspected may influence extinction. For simplicity, I focused on species within the kingdom Animalia. To help explore and contextualize the data, I created a shiny app that allows users to visualize extinct species on a map with any combination of taxonomic, endemism, habitat, threat, and use type filters. The app can be found <a href="https://andrewbartnik.shinyapps.io/extinction_data_explorer/">here</a>.</p>
<section id="cleaning" class="level2">
<h2 class="anchored" data-anchor-id="cleaning">Cleaning</h2>
<p>After cleaning the data, each row represented one species with a unique <code>assessment_id</code>, and each column contained a variable that I thought might influence extinction. The variables that I focused on were: species endemism (<code>endemic</code>), habitat type (<code>habitat</code>), the type of threat faced (<code>threat</code>), human use (<code>use</code>), and taxonomy (<code>class</code>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(predictors) <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c4925eb2fb1299c527ff" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c4925eb2fb1299c527ff">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[495907,497499,497550,499158,499618,500479],["Wetlands","Wetlands","Forest","Forest","Wetlands","Forest"],["Biological resource use","Natural system modifications","Biological resource use","Biological resource use","Pollution","Energy production and Mining"],["Food - human",null,null,"Medicine","Food - human",null],["KH","MX","PW","ID","BD","PW"],["MM",null,null,null,"IN",null],["TH",null,null,null,"BT",null],["ANIMALIA","ANIMALIA","ANIMALIA","ANIMALIA","ANIMALIA","ANIMALIA"],["CHORDATA","CHORDATA","MOLLUSCA","CHORDATA","CHORDATA","MOLLUSCA"],["REPTILIA","ACTINOPTERYGII","GASTROPODA","REPTILIA","REPTILIA","GASTROPODA"],["TESTUDINES","CYPRINODONTIFORMES","ARCHITAENIOGLOSSA","TESTUDINES","TESTUDINES","LITTORINIMORPHA"],["GEOEMYDIDAE","GOODEIDAE","DIPLOMMATINIDAE","TESTUDINIDAE","GEOEMYDIDAE","ASSIMINEIDAE"],["Heosemys","Hubbsina","Hungerfordia","Indotestudo","Pangshura","Kubaryia"],["0","0","0","0","0","1"],["No","Yes","Yes","Yes","No","No"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>assessment_id<\/th>\n      <th>habitat<\/th>\n      <th>threat<\/th>\n      <th>use<\/th>\n      <th>country_1<\/th>\n      <th>country_2<\/th>\n      <th>country_3<\/th>\n      <th>kingdom_name<\/th>\n      <th>phylum<\/th>\n      <th>class<\/th>\n      <th>order<\/th>\n      <th>family<\/th>\n      <th>genus<\/th>\n      <th>extinct<\/th>\n      <th>endemic<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>To clarify some nomenclature before we start modeling:</p>
<p>When I use the term variable, I’m referencing the column names that we’re going to use in our analysis. When I use the term level, I’m referring to the different values that each column name can take on. For example, one of our variables is <code>habitat</code>. The different levels it can take on are below.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(predictors<span class="sc">$</span>habitat) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Caves"          "Desert"         "Forest"         "Grassland"     
[5] "Marine Neritic" "Rocky Areas"    "Savanna"        "Shrubland"     
[9] "Wetlands"      </code></pre>
</div>
</div>
</section>
<section id="modeling" class="level2">
<h2 class="anchored" data-anchor-id="modeling">Modeling</h2>
<p>I ran a logistic linear regression on each of these variables individually to get a feel for which levels might be significant. I then used an AIC function that added these variables stepwise into 5 different models, one for each added variable. It then scored each model using AIC, a relative way of evaluating model performance, to see which one did the best. I then used the best model to make some predictions. Comparing the coefficients of the variables from their individual models to their coefficients from the consolidated model, I was able evaluate the robustness of each variable. Since we’re testing a large number of levels in the variables, it is likely we will find significance regardless if there is actually an effect. Cross-checking the output of our individual models with our consolidated model allows us to see if our significant levels are robust.</p>
<p>First, we’re going to look at using logistic regression on each variable individually. Our logistic regression uses the following logit function: <span class="math display">\[\operatorname{logit}(p)=\log \left(\frac{p}{1-p}\right)=\beta_0+\beta_1  x + \varepsilon \]</span></p>
<p>Where <span class="math inline">\(\beta_0\)</span> is our intercept, and <span class="math inline">\(\beta_1\)</span> is the coefficient for a two-level factor variable that toggles on (<span class="math inline">\(x = 1\)</span>) when we are not evaluating our reference category. For a variable with <span class="math inline">\(i\)</span> levels, we will have <span class="math inline">\(i - 1\)</span> terms of <span class="math inline">\(\beta\)</span>. We will use this expression for each of our variables.</p>
<p>Unfortunately, the model coefficients don’t tell us much since they’re log-transformed, and we have to re-transform to be able to interpret them. Taking endemism for example, after some rearranging we get an expression that we can use to calculate how much more likely an endemic species is to be extinct than a non-endemic species. We will use this approach for each significant level of our variables. <span class="math display">\[\hat p = \frac{e^{\beta_0 + \beta_1 x}}{1+ e^{\beta_0 + \beta_1 x}}\]</span></p>
<p>We’re going to calculate the right hand side of our equation above for endemic species (<span class="math inline">\(x = 1\)</span>) since its a categorical variable), and non-endemic species (<span class="math inline">\(x = 0\)</span>). When we take the difference of the two, we calculate how much MORE likely it is for an endemic species to be extinct than a non-endemic species.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Endemism</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Habitat</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Threat</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Use</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false">Taxonomy</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>I first investigated endemism - a species endemic to Santa Barbra means it is found nowhere else in the world outside of Santa Barbara. This seemed like a good place to start, since an endemic species is geographically and genetically restricted to one location, which seems likely to render it more prone to extinction than a non-endemic species. Below is a mosaic plot - which uses area to visualize to categorical variables - to see if there is an obvious correlation.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="stats_final_extinction_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It’s difficult to tell, but it looks that endemic species might be more likely to also be extinct. We’re going to take a look at the logistic regression output for regressing <code>extinct</code> on <code>endemic</code>.</p>
<p>Here is the R output for the model summary:</p>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table 1. Logistic Regression of Extinction on Endemism</caption>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="3" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Endemism</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Conf. Int (95%)</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">P-value</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Intercept</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.0177</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.0166&nbsp;–&nbsp;0.0188</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Endemic</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.0405</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.8307&nbsp;–&nbsp;2.2718</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">70067</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="3" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.002</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Since our p-value is far below any of the conventional significance levels, it looks like endemism on its own is significant in predicting extinction. After the transformation, our results show that an endemic species is 1.75% more likely to be extinct than a non-endemic species.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>I then investigated the type of habitat the species lives in. Running a logistic regression model only on habitat shows that the Cave habitat (our reference group, when <span class="math inline">\(x = 0\)</span>) is significant - with a minimal p-value.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="stats_final_extinction_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Wetlands and Forest habitats are also significant at a 0.05 significance level, and Marine Neritic habitats are significant at a significance level of 0.01. Let’s turn the coefficients into something more interpretable as we did above.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Profiled confidence intervals may take longer time to compute.
  Use `ci_method="wald"` for faster computation of CIs.</code></pre>
</div>
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table 2. Logistic Regression of Extinction on Habitat</caption>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="2" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Habitat</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">P-value</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Intercept</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.0079</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Desert</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.4085</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.130</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Forest</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.7000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.049</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Grassland</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.4574</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.482</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Marine Neritic</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.2040</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.006</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Rocky Areas</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.8166</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.727</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Savanna</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.3305</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.118</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Shrubland</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.8463</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.236</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Wetlands</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">3.2211</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.020</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">68395</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.003</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Summarizing our significant results in comparison to the reference group (Caves/Subterranean Habitats):</p>
<p>Species living in a Cave/Subterranean habitat have a 0.78% chance of also being extinct, while species living in a Marine Neritic habitat have 0.619% LESS of a chance of being extinct than species living in a Cave/Subterranean habitat.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>Next was the type of threat that the species faces.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="stats_final_extinction_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Our results show that threat types of Agriculture and Aquaculture, Pollution and Invasive species/Diseases are significant.</p>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table 3. Logistic Regression of Extinction on Threat</caption>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="2" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Threat</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">P-value</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Intercept</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.0217</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Biological resource use</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.7628</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.016</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Energy production and Mining</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.5140</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.005</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Human intrusions and disturbance</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.9570</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.879</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Invasive species, genes and disease</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">5.2889</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Natural system modifications</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.3708</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.012</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Pollution</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.5498</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Residential and Commercial Development</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.1123</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.352</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Transportation and service corridors</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.5502</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.081</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">37633</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.019</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Again, summarizing our significant results compared to the reference group (Agriculture/Aquaculture):</p>
<p>Species threatened by Agriculture/Aquaculture have a 2.12% chance of also being extinct. Species threatened by Invasive species/Disease and pollution have a 8.16% and 1.1% more chance of being extinct than species threatened by Agriculture/Aquaculture, respectively.</p>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p>Use seemed like another appropriate variable to investigate. Perhaps species that provide medicinal or energy uses are extracted at more unsustainable rates than a species that provides an artisinal use.</p>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table 4. Logistic Regression of Extinction on Use</caption>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="2" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Use</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">P-value</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Intercept</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.995</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">ex - situ production</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1018924.8700</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.997</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">fibre</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Food - animal</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Food - human</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2451051.3686</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">fuels</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">handicrafts, jewellery, etc</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1213090.6232</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.997</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Manufacturing chemicals</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Medicine</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1120077.2179</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.997</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Other</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2628363.0170</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">other chemicals</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">21026904.1357</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">other household goods</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">display animals, horticulture</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">365417.8191</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.997</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Poisons</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">Research</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">3304227.7928</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">sport hunting/Specimen collecting</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">349389.6458</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.997</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">unknown</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">wearing apparel, accessories</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2115511.6966</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">19133</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.008</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>This shows that the human use for each species is not significant for predicting extinction. A potential problem with this though, is the amount of missing data in this column. Out of our over 70,000 species observations, approximately 51,000 of these do not have associated use cases. This may be because we simply don’t have a human use for many species, or that the uses just aren’t properly documented.</p>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<p>Taxonomy seemed like another interesting variable to investigate. It seems likely that more closely-related species will face similar extinction pressures. Since we’re working within the Animalia Kingdom, we will run a logistic regression using the class of each species. I’ve shortened the output below to only include a few of the classes for visual purposes.</p>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table 5. Logistic Regression of Extinction on Taxa</caption>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="2" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Taxa</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">P-value</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [AMPHIBIA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.5886</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [ANTHOZOA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.2351</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.042</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [ARACHNIDA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">7.1234</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [AVES]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.4023</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [BIVALVIA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">6.4434</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [GASTROPODA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">6.3545</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [INSECTA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.2961</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.017</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [MAMMALIA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.9058</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [REPTILIA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.7869</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.065</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">70067</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.017</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>There are quite a few classes that look to be significant here. Especially significant classes appear to be, Actinopterygii (Ray-finned fishes, our reference group) Amphibians, Arachnids, Aves, Bivalves, and Gastropods. Since we’re testing so many levels, we expect that our model will find significance regardless if there is an actual effect. We will keep an eye on the significant classes as we build our larger model. Below is a dendrogram of the evolutionary relationships between classes and their significance levels.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="stats_final_extinction_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
<section id="stepwise-model" class="level3">
<h3 class="anchored" data-anchor-id="stepwise-model">Stepwise Model</h3>
<p>Now, we want to see if any of these significant levels of previous variables are still significant when we start to add our variables together for a more complete model. If they are still significant, we can be comfortable concluding that the level is influencing extinction. We start with predicting extinction off of one variable, endemism, and then incrementally add our other variables of interest. We use a stepwise AIC function - which will take a look at each step, and output scores for each step of the model, indicating which model does the best job at predicting extinction.</p>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">K</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">AICc</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Delta_AICc</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">AICcWt</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">LL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">1615.0</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-751.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">8794.1</td>
<td style="text-align: right;">7179.1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-4350.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">8985.0</td>
<td style="text-align: right;">7370.0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-4474.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">11713.7</td>
<td style="text-align: right;">10098.7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-5846.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">14210.9</td>
<td style="text-align: right;">12595.9</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-7103.5</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The last step in our model has the lowest AIC score, and appears to be the best. This is slightly worrying, since it is the most complicated model - it uses 56 different parameters (1 for each level of each variable) to predict extinction. This could potentially indicate over-fitting, so we’re going to take a look at our coefficients and p-values of our significant variable levels, to see which levels remain robust. Again, I’ve shortened the model output to include only the relevant levels.</p>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<caption>Table 6. Generalized Logistic Regression</caption>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">&nbsp;</td>
<td colspan="2" data-quarto-table-cell-role="th" style="text-align: center; border-top: double; font-style: normal; font-weight: bold; padding: 0.2cm;">Generalized Mod</td>
</tr>
<tr class="even">
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Predictors</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">Odds Ratios</td>
<td style="text-align: center; border-bottom: 1px solid; font-style: italic; font-weight: normal;">P-value</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">endemic [Yes]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">4.1961</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">habitat [Desert]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.4347</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">habitat [Forest]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">3927257.7750</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">habitat [Marine Neritic]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1059842.1871</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">habitat [Wetlands]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">10420495.4785</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">threat [Pollution]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">6.6093</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [AMPHIBIA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2.2075</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>0.019</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [ARACHNIDA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.996</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [AVES]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">8.3032</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;"><strong>&lt;0.001</strong></td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [GASTROPODA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.3001</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.245</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">class [INSECTA]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.0000</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.990</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">use [Medicine]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">2209540.2542</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.999</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">use [Poisons]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.2001</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">1.000</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">use [Research]</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">4638444.2655</td>
<td style="text-align: left; padding: 0.2cm; vertical-align: top;">0.999</td>
</tr>
<tr class="odd">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">Observations</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm; border-top: 1px solid;">11603</td>
</tr>
<tr class="even">
<td style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">R<sup>2</sup> Tjur</td>
<td colspan="2" style="text-align: left; padding: 0.2cm; vertical-align: top; padding-top: 0.1cm; padding-bottom: 0.1cm;">0.101</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The significance level for endemism remains far below any conventional significance threshold, it’s coefficient hardly changed, so we can remain confident that Endemic species are indeed more likely to be extinct. This is a robust indicator.</p>
<p>Similarly, threats of <code>Pollution</code> and <code>Invasive Species/Disease</code> remain robust in our more complete model. The significance levels are far below the usual significance thresholds of 0.05 and 0.01, indicating that these are also a robust indicators.</p>
<p>Finally, the <code>Aves</code>, <code>Amphibia</code>, and <code>Gastropoda</code> classes also look like they’re remaining robust - although <code>Aves</code> to a lesser degree. The significance level decreases quite a bit from when we evaluated taxa on their own, and the coefficient changes noticeably. This indicates that there may be an interaction effect between taxa and one of the other variables. Perhaps species in the <code>Aves</code> class (birds) are more prone to infectious diseases than species in other classes.</p>
<p>So, the variable levels that we are confident are associated with species extinction, at least in this dataset are endemic species threatened by pollution or disease, in the <code>Aves</code>, <code>Amphibia</code>, and <code>Gastropoda</code> classes. This is fairly consistent with our current knowledge of extinction.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dendrogram_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="stats_final_extinction_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="predictions" class="level4">
<h4 class="anchored" data-anchor-id="predictions">Predictions</h4>
<p>I then used the <code>step4</code> model models to make probability predictions that a species is extinct. Because the <code>augment</code> function that I used removes any NA values before making predictions, I used <code>step4</code> model instead of <code>step5</code>. The <code>use</code> variable only contains data for ~ 20,000 of our 70,000 species - so we’d be losing well over half of our data if we used the <code>step5</code> model. We’re still losing ~30,000 species with our <code>step4</code> model, since not every species has an associated threat, so we expect our p-value in our T test to look slightly different.</p>
<p>The <code>step4</code> model contains the variables <code>endemic</code>, <code>habitat</code> , <code>threat</code> and <code>class</code>. I then used <code>augment</code> to output the predicted probability that a species is extinct based on the variables used in the <code>step4</code> model.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="stats_final_extinction_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can evaluate how accurate the model is using a confusion matrix.</p>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Prediction</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Reference</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">36524</td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: right;">1065</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Although the model is 97% accurate, it is pretty bad at predicting if species are extinct or not. Here’s where machine learning comes into play.</p>
</section>
</section>
</section>
</section>
<section id="issues" class="level1">
<h1>Issues</h1>
<section id="assumptions" class="level2">
<h2 class="anchored" data-anchor-id="assumptions">Assumptions</h2>
<p>I categorized species that are classified as “extinct in the wild” as extinct, since we are interested in species outside of captivity. I also took a case by case approach to classify some of the critically endangered species with values of the variable <code>Possibly Extinct</code> as <code>TRUE</code> as extinct - since many of these species have not been seen in many years (our Chinese River Dolphin friend actually falls into this category, it is listed as critically endangered despite not having been seen since 2007) and are widely agreed to be at least functionally extinct (where there are so few members of the species surviving in the wild that it is unlikely they will ever come into contact).</p>
</section>
<section id="simplifications" class="level2">
<h2 class="anchored" data-anchor-id="simplifications">Simplifications</h2>
<p>To ensure that each observation was a species and that there weren’t multiple observations of the same species, I categorized each of the sub habitats into one general habitat - tropical rainforests in Costa Rica and boreal forests in Siberia are both considered forests. I also collapsed species that live in multiple habitats into one habitat. I took similar approaches with the threat type, generalizing each sub type into one general type, collapsing species facing multiple threats into one threat, as well as the use case. Each of these introduces its own oversimplification issues, and should be explored more thoroughly in future investigations. Here is the link to IUCN’s <a href="https://www.iucnredlist.org/resources/classification-schemes">classification schemes</a>.</p>
</section>
<section id="limitations" class="level2">
<h2 class="anchored" data-anchor-id="limitations">Limitations</h2>
<p>On top of all this, it is extremely difficult to study extinction. We don’t have crucial data on population dynamics, geographic range, reproductive capacity, genetic diversity, and many other important factors for many species. In fact, there are probably still millions of species of plants and animals that we have yet to identify, let alone gather enough pertinent data to understand its status. The IUCN only describes species that went extinct relatively recently. When we consider the number of extinctions that have happened over geologic time scales, we are looking at an extremely minute sample. The IUCN has assessed only ~7% of its described species. Even for species that we are aware of, it is very difficult to tell if a species is actually extinct. The Amsterdam Widgeon was endemic to Île of Amsterdam in the French Southern Territories before it went extinct likely due to visiting sealers and the rats they introduced sometime between 1600 - 1800. No naturalist even visited the island until 1874, and we only know that it existed through its bones that were found in 1955<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>. To illustrate an extreme example of how bad we are at this, we’ll take a look at the Coelecanths.</p>
<p>This ancient genus first appeared in the fossil record over 400 million years ago. It disappeared from the fossil record 66 million years ago and was presumed to have gone extinct along with the dinosaurs. In 1938, one species of Coelecanth was rediscovered in a fishing net off the South African Coast. Here it is, a living fossil, alive and swimming.</p>
<p><img src="images/coelecanth.jpeg" class="img-fluid"></p>
<p><a href="https://www.economist.com/1843/2013/12/30/a-fish-for-our-time">Figure 8. Live Coelecanth</a></p>
<p>Since then, another Coelecanth species has been discovered, and over 100 individual specimens have been recorded. Coelecanths are classified as critically endangered, the IUCN estimates that fewer than 500 exist in the wild, and are suffering as a result of over-fishing. This is one example of a Lazarus taxon - an evolutionary line that disappeared from the fossil record only to reappear much later.</p>
</section>
</section>
<section id="next-steps" class="level1">
<h1>Next Steps</h1>
<p>A logical next step to continue this analysis would be to more carefully investigate each variable individually by categorizing them even more broadly. Since we’re testing so many different parameters here, our model is likely to find significance regardless if the effect is actually there or not.</p>
<p>Additionally, it is highly likely that many of these variables are interacting with each other. Meaning that one variable likely influences the outcome, and is correlated with another variable. For example, species more closely related (have similar taxonomy) are probably more likely to share habitats, which will also influence how likely it is that they are extinct. Species that share habitats are also probably more likely to share similar threats - especially in habitats undergoing destruction. To address this, we would add interacting terms (habitat:class, threat:habitat) and take a look at how the coefficients change from model to model again. If we find that the coefficients for any of our variables and our intercept change dramatically, then it is likely that we have an interaction effect.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="stats_final_extinction_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Another idea to investigate that I suspect plays an important role in species extinction is its ecological niche and trophic level. A specialist species with a narrow ecological niche would likely be much more sensitive to changes in environmental conditions - and is therefore likely more prone to extinction than a generalist species that can fill a variety of niches. Similarly, I suspect that species at low trophic levels are much less likely to go extinct than species at higher trophic levels, because they have lower energy requirements and depend on less of the food chain. In the case of an ecosystem collapse, species at higher trophic levels will likely be the first to die out.</p>
<p>Finally, this analysis only uses data from the Animal kingdom. An analysis incorporating plants, arachaea, fungi, and eubacteria would certainly give us a more full picture of extinction. However given the data that we have available, we are far far away from being able to perform this analysis properly.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Our picture of extinction is far from complete. In fact, our picture of species is far from complete. scientists estimate that there are around 8.7 million species of plants and animals in existence<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>, yet we’ve only identified 1.2 million. This doesn’t even include lifes kingdoms of which we know the least - the Fungi, Archaea, Protozoa, and Bacteria. Its accepted among scientists that some species among us today will go extinct far before they are discovered. Species will continue to go extinct due to our mistreatment of the natural world - and we will lose far more than simply the services they provide to humans. As of right now, there is no reversing extinction (although this is likely to change).</p>
<p>Despite this bleak reality, we are in a better position to address and mitigate our predicament than we were even just a few decades ago. Our tools to understand the natural world, our policies to safeguard it, and our desire to protect it are becoming more interconnected every day. With better information, we are able to make better decisions to become better stewards of the planet. If one thing is clear, the more we learn about life, the more it surprises us. Despite our ongoing destruction of much of the natural world, life finds a way.</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Barnosky, A., Matzke, N., Tomiya, S. <em>et al.</em> Has the Earth’s sixth mass extinction already arrived?. <em>Nature</em> <strong>471</strong>, 51–57 (2011). <a href="https://doi.org/10.1038/nature09678" class="uri">https://doi.org/10.1038/nature09678</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Ceballos G, Ehrlich PR, Barnosky AD, García A, Pringle RM, Palmer TM. Accelerated modern human-induced species losses: Entering the sixth mass extinction. Sci Adv. 2015 Jun 19;1(5):e1400253. doi: 10.1126/sciadv.1400253. PMID: 26601195; PMCID: PMC4640606.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Barnosky, A., Matzke, N., Tomiya, S. et al.&nbsp;Has the Earth’s sixth mass extinction already arrived?. Nature 471, 51–57 (2011). <a href="https://doi.org/10.1038/nature09678" class="uri">https://doi.org/10.1038/nature09678</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><a href="https://www.iucnredlist.org/search" class="uri">https://www.iucnredlist.org/search</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><a href="https://en.wikipedia.org/wiki/Amsterdam_wigeon" class="uri">https://en.wikipedia.org/wiki/Amsterdam_wigeon</a><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Sweetlove, L. Number of species on Earth tagged at 8.7 million. Nature (2011). <a href="https://doi.org/10.1038/news.2011.498" class="uri">https://doi.org/10.1038/news.2011.498</a><a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{bartnik2022,
  author = {Bartnik, Andrew},
  title = {Exploring {Extinction}},
  date = {2022-12-04},
  url = {https://andrewbartnik.github.io/Portfolio/exploring-extinction},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-bartnik2022" class="csl-entry quarto-appendix-citeas" role="listitem">
Bartnik, Andrew. 2022. <span>“Exploring Extinction.”</span> December 4,
2022. <a href="https://andrewbartnik.github.io/Portfolio/exploring-extinction">https://andrewbartnik.github.io/Portfolio/exploring-extinction</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Andrew Bartnik</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/andrewbartnik">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/andrew_bartnik">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>